{"path":"catalog/createcomplexrule","templateID":0,"sharedPropsHashes":{"nav":"1NOmB5","sidebarTree":"Zmql6m","namespace":"Zd6xn0"},"localProps":{"version":"1.0","crumbs":[{"content":"API Reference","to":"/"},{"content":"Catalog","to":"/catalog"},{"content":"createComplexRule","to":"/catalog/createcomplexrule"}],"page":{"meta":{"title":"createComplexRule - Catalog - API Reference","url":"/catalog/createcomplexrule","description":"Creates a ComplexRule.\n\nRequest Parameters\n\nRequest Body\n\nComplexRule object.\n\nResponses\n\nSend a Test Request\n"},"title":"createComplexRule","parsedPath":["pages","/","data","children",1,"data","children",50],"rootPagePath":"/","path":"/catalog/createcomplexrule","isSubpage":true,"route":{"path":"/createcomplexrule"},"data":{"blocks":[{"type":"text","data":"Creates a `ComplexRule`.","header":{"title":"/catalog/products/{product_id}/complex-rules","token":"post"}},{"type":"text","data":"## Request Parameters","config":{"classNames":["ApiOperation--requestTitle mt-10 -mb-10"]}},{"type":"accordion","data":{"children":[{"title":"1 Path Parameter","blocks":[{"type":"jsonSchema","data":{"type":"object","properties":{"product_id":{"type":"integer","description":"The ID of the `Product` to which the resource belongs.\n"}},"required":["product_id"]},"config":{"hideRoot":true}}]}]},"config":{"classNames":["ApiOperation--request"]}},{"type":"text","data":"## Request Body\n\n`ComplexRule` object.","config":{"classNames":["ApiOperation--requestBodyTitle mt-10","-mb-4"]}},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","description":"The model for a POST to create a complex rule on a product.\n","allOf":[{"type":"object","description":"Common ComplexRule properties.\n","properties":{"product_id":{"type":"integer","description":"The unique numeric ID of the product with which the rule is associated; increments sequentially.\n","x-nullable":true,"x-required":["post","put"]},"sort_order":{"type":"integer","description":"The priority to give this rule when making adjustments to the product properties.\n","minimum":-2147483648,"maximum":2147483647},"enabled":{"type":"boolean","description":"Flag for determining whether the rule is to be used when adjusting a product's price, weight, image, or availabilty.\n"},"stop":{"type":"boolean","description":"Flag for determining whether other rules should not be applied after this rule has been applied.\n"},"purchasing_disabled":{"type":"boolean","description":"Flag for determining whether the rule should disable purchasing of a product when the conditions are applied.\n"},"purchasing_disabled_message":{"type":"string","description":"Message displayed on the storefront when a rule disables the purchasing of a product.\n","minLength":0,"maxLength":255},"purchasing_hidden":{"type":"boolean","description":"Flag for determining whether the rule should hide purchasing of a product when the conditions are applied.\n"},"price_adjuster":{"type":"object","properties":{"adjuster":{"type":"string","description":"The type of adjuster for either the price or the weight of the variant, when the modifier value is selected on the storefront.\n","enum":["relative","percentage"],"x-nullable":true},"adjuster_value":{"type":"number","description":"The numeric amount by which the adjuster will change either the price or the weight of the variant, when the modifier value is selected on the storefront.\n"}}},"weight_adjuster":{"type":"object","properties":{"adjuster":{"type":"string","description":"The type of adjuster for either the price or the weight of the variant, when the modifier value is selected on the storefront.\n","enum":["relative","percentage"],"x-nullable":true},"adjuster_value":{"type":"number","description":"The numeric amount by which the adjuster will change either the price or the weight of the variant, when the modifier value is selected on the storefront.\n"}}}}},{"type":"object","properties":{"conditions":{"type":"array","items":{"type":"object","description":"The model for a POST to create conditions on a complex rule.\n","allOf":[{"type":"object","description":"Common ComplexRuleCondition properties.\n","properties":{"id":{"type":"integer","description":"The unique numeric ID of the rule condition; increments sequentially.\n","x-nullable":true},"rule_id":{"type":"integer","description":"The unique numeric ID of the rule with which the condition is associated.\n","x-nullable":true},"modifier_id":{"type":"integer","description":"The unique numeric ID of the modifier with which the rule condition is associated.\n","x-nullable":true},"modifier_value_id":{"type":"integer","description":"The unique numeric ID of the modifier value with which the rule condition is associated.\n","x-nullable":true},"variant_id":{"type":"integer","description":"The unique numeric ID of the variant with which the rule condition is associated.\n","x-nullable":true}}}]},"x-required":["post"]}}}]},"config":{"hideRoot":false}}]}]},"config":{"classNames":["ApiOperation--requestBody"]}},{"type":"text","data":"## Responses","config":{"classNames":["ApiOperation--responsesTitle mt-10 -mb-14"]}},{"type":"tabs","data":{"children":[{"title":"200","blocks":[{"type":"text","data":"A `ComplexRule` object."},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"description":"Response payload for the BigCommerce API.\n","type":"object","properties":{"data":{"type":"object","description":"Apply price, weight, image, or availabilty adjustments to product, based on a set of conditions. A complex rule's condition must either contain more than one modifier value, or else contain a modifier value and a variant ID.\n","allOf":[{"type":"object","description":"Common ComplexRule properties.\n","properties":{"product_id":{"type":"integer","description":"The unique numeric ID of the product with which the rule is associated; increments sequentially.\n","x-nullable":true,"x-required":["post","put"]},"sort_order":{"type":"integer","description":"The priority to give this rule when making adjustments to the product properties.\n","minimum":-2147483648,"maximum":2147483647},"enabled":{"type":"boolean","description":"Flag for determining whether the rule is to be used when adjusting a product's price, weight, image, or availabilty.\n"},"stop":{"type":"boolean","description":"Flag for determining whether other rules should not be applied after this rule has been applied.\n"},"purchasing_disabled":{"type":"boolean","description":"Flag for determining whether the rule should disable purchasing of a product when the conditions are applied.\n"},"purchasing_disabled_message":{"type":"string","description":"Message displayed on the storefront when a rule disables the purchasing of a product.\n","minLength":0,"maxLength":255},"purchasing_hidden":{"type":"boolean","description":"Flag for determining whether the rule should hide purchasing of a product when the conditions are applied.\n"},"price_adjuster":{"type":"object","properties":{"adjuster":{"type":"string","description":"The type of adjuster for either the price or the weight of the variant, when the modifier value is selected on the storefront.\n","enum":["relative","percentage"],"x-nullable":true},"adjuster_value":{"type":"number","description":"The numeric amount by which the adjuster will change either the price or the weight of the variant, when the modifier value is selected on the storefront.\n"}}},"weight_adjuster":{"type":"object","properties":{"adjuster":{"type":"string","description":"The type of adjuster for either the price or the weight of the variant, when the modifier value is selected on the storefront.\n","enum":["relative","percentage"],"x-nullable":true},"adjuster_value":{"type":"number","description":"The numeric amount by which the adjuster will change either the price or the weight of the variant, when the modifier value is selected on the storefront.\n"}}}}},{"type":"object","properties":{"id":{"type":"integer","description":"The unique numeric ID of the rule; increments sequentially.\n"},"image_url":{"type":"string","description":"The URL for an image displayed on the storefront when the conditions are applied.\n"},"conditions":{"type":"array","items":{"type":"object","description":"Complex rules may return with conditions that apply to one or more variants, or with a single modifier value (if the rules were created using the v2 API or the control panel). Complex rules created or updated in the v3 API must have conditions that either reference multiple `modifier_value_id`'s, or else reference a `modifier_value_id` and a `variant_id`.\n","allOf":[{"type":"object","description":"Common ComplexRuleCondition properties.\n","properties":{"id":{"type":"integer","description":"The unique numeric ID of the rule condition; increments sequentially.\n","x-nullable":true},"rule_id":{"type":"integer","description":"The unique numeric ID of the rule with which the condition is associated.\n","x-nullable":true},"modifier_id":{"type":"integer","description":"The unique numeric ID of the modifier with which the rule condition is associated.\n","x-nullable":true},"modifier_value_id":{"type":"integer","description":"The unique numeric ID of the modifier value with which the rule condition is associated.\n","x-nullable":true},"variant_id":{"type":"integer","description":"The unique numeric ID of the variant with which the rule condition is associated.\n","x-nullable":true}}},{"type":"object","properties":{"combination_id":{"type":"integer","description":"(READ-ONLY:) The unique numeric ID of the SKU (v2 API), or Combination, with which the rule condition is associated. This is to maintain cross-compatibility between v2 and v3.\n"}}}]}}}}]},"meta":{"type":"object","description":"Empty meta object; may be used later."}}}}]}]}}]},{"title":"409","blocks":[{"type":"text","data":"The `ComplexRule` was in conflict with another `ComplexRule`. This is the result of duplicate conditions."},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"allOf":[{"type":"object","description":"Error payload for the BigCommerce API.\n","properties":{"status":{"description":"The HTTP status code.\n","type":"integer"},"title":{"description":"The error title describing the particular error.\n","type":"string"},"type":{"type":"string"},"instance":{"type":"string"}}},{"type":"object","properties":{"errors":{"type":"object","additionalProperties":{"type":"string"}}}}]}}]}]}}]},{"title":"422","blocks":[{"type":"text","data":"The `ComplexRule` was not valid. This is the result of missing required fields, or of invalid data. See the response for more details."},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"allOf":[{"type":"object","description":"Error payload for the BigCommerce API.\n","properties":{"status":{"description":"The HTTP status code.\n","type":"integer"},"title":{"description":"The error title describing the particular error.\n","type":"string"},"type":{"type":"string"},"instance":{"type":"string"}}},{"type":"object","properties":{"errors":{"type":"object","additionalProperties":{"type":"string"}}}}]}}]}]}}]}]},"config":{"classNames":["ApiOperation--responses"]}},{"type":"text","data":"## Send a Test Request","config":{"classNames":["ApiOperation--tryItOutTitle mt-10 -mb-10"]}},{"type":"http","data":{"method":"post","url":"https://api.bigcommerce.com/stores/{{store_id}}/v3/catalog/products/{product_id}/complex-rules","headers":{"Content-Type":"application/json"},"stepPathParams":{"product_id":""},"body":"{\n  \"product_id\": 123,\n  \"sort_order\": 123,\n  \"enabled\": true,\n  \"stop\": true,\n  \"purchasing_disabled\": true,\n  \"purchasing_disabled_message\": \"string\",\n  \"purchasing_hidden\": true,\n  \"price_adjuster\": {\n    \"adjuster\": \"relative\",\n    \"adjuster_value\": 123\n  },\n  \"weight_adjuster\": {\n    \"adjuster\": \"relative\",\n    \"adjuster_value\": 123\n  },\n  \"conditions\": [\n    {\n      \"id\": 123,\n      \"rule_id\": 123,\n      \"modifier_id\": 123,\n      \"modifier_value_id\": 123,\n      \"variant_id\": 123\n    }\n  ]\n}"},"config":{"canvas":false,"paddedInner":false,"classNames":["ApiOperation--tryItOut"]}}],"children":[]}}}}
